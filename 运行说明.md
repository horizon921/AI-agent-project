# Chat-AI 项目运行说明

## 📋 项目概述

这是一个功能完整的AI助手项目，包含：

- **聊天助手**: 支持文本、图片、语音多模态交互
- **论文分析**: 结构化分析学术论文
- **教育内容生成**: 生成不同级别的教育材料
- **工具集成**: 代码执行、网络搜索、数学计算
- **反馈系统**: 用户反馈收集和数据分析

## 🚀 快速启动

### 方式一：一键启动（推荐）

```bash
# 1. 激活conda环境
conda activate aiagent

# 2. 安装依赖
python install_dependencies.py

# 3. 一键启动所有服务
python start_all.py
```

### 方式二：分别启动

```bash
# 1. 激活conda环境
conda activate aiagent

# 2. 安装依赖
python install_dependencies.py

# 3. 启动后端服务（新终端窗口1）
python start_backend.py

# 4. 启动前端服务（新终端窗口2）
python start_frontend.py
```

## 🔧 环境配置

### 1. API配置

编辑 `.env` 文件，配置你的API密钥：

```env
# API配置
API_KEY=你的API密钥
BASE_URL=https://api.siliconflow.cn/v1

# 模型配置
DEFAULT_MODEL=gpt-4o
```

### 2. 依赖要求

- Python 3.8+
- conda环境（建议使用aiagent环境）

## 📱 访问地址

启动成功后，可通过以下地址访问：

- **前端界面**: http://localhost:8501
- **后端API**: http://localhost:8000
- **API文档**: http://localhost:8000/docs

## 🛠️ 功能模块

### 1. 聊天助手
- 支持文本对话
- 图片识别和分析
- 语音输入（需要麦克风权限）
- 流式响应输出

### 2. 论文分析
- 智能提取论文要点
- 结构化分析结果
- JSON格式输出验证

### 3. 教育内容生成
- 多级别内容适配
- 包含练习题和答案
- 学习建议推荐

### 4. 工具集成
- Python代码执行
- 网络搜索功能
- 数学计算器
- 图表生成

## 🔍 故障排除

### 常见问题

1. **依赖安装失败**
   ```bash
   pip install --upgrade pip
   python install_dependencies.py
   ```

2. **API调用失败**
   - 检查`.env`文件中的API_KEY配置
   - 确认API服务商的服务状态

3. **端口被占用**
   ```bash
   # 查看端口占用
   lsof -i :8000  # 后端端口
   lsof -i :8501  # 前端端口
   
   # 杀死占用进程
   kill -9 <PID>
   ```

4. **语音识别失败**
   - 确保已安装语音识别依赖
   - 检查麦克风权限

### 日志查看

- 后端日志: 查看终端输出
- 前端日志: 浏览器控制台
- 应用日志: `backend/logs/app.log`

## 📊 数据管理

### 反馈数据
- 存储位置: `feedback_data.json`
- 支持CSV导出
- 支持数据统计分析

### 知识库
- 位置: `data/knowledge_base/`
- 支持扩展自定义内容

## 🎯 开发指南

### 项目结构
```
AI-agent-project/
├── backend/          # FastAPI后端
├── frontend/         # Streamlit前端
├── data/            # 数据文件
├── *.py            # 启动脚本
└── .env            # 环境配置
```

### 扩展功能
1. 新增API端点: 修改`backend/main.py`
2. 新增前端页面: 修改`frontend/app.py`
3. 新增工具: 扩展`backend/api/tools_service.py`

## 📝 更新日志

- ✅ 基础功能模块完成
- ✅ 多模态支持
- ✅ 工具集成
- ✅ 反馈系统
- ⏳ RAG知识库增强（待实现）
- ⏳ 记忆机制（待实现）

## 💡 使用建议

1. **首次使用**: 建议先测试聊天助手功能
2. **API配置**: 确保API密钥有效且有足够额度
3. **性能优化**: 根据需要调整模型参数
4. **数据备份**: 定期备份反馈数据和配置

## 🆘 获取帮助

如遇到问题，请检查：
1. Python环境和依赖是否正确安装
2. API配置是否正确
3. 网络连接是否正常
4. 查看终端错误信息

---

🎉 享受使用Chat-AI吧！